---
title: "런타임 API"
description: "초기화 후 Moss를 동적으로 구성"
---

## 개요

런타임 API를 사용하면 SDK가 초기화된 후 Moss 설정을 동적으로 변경할 수 있습니다. 이러한 변경 사항은 **최고 우선순위**를 가지며 대시보드 설정과 SDK 초기화 옵션을 모두 재정의합니다.

<Info>
    런타임 설정은 사용자 작업에 대한 응답, 기능 플래그 구현 또는 실시간
    조건에 따른 설정 조정에 이상적입니다.
</Info>

---

## configure() 메서드

런타임에 설정을 업데이트하려면 `window.Moss.configure()`를 사용하세요:

```javascript
window.Moss.configure({
    language: 'ko',
    enableSessionRecording: false
})
```

### 구문

```javascript
window.Moss.configure(options: Partial<MossConfig>): void
```

이 메서드는 부분 설정 객체를 받습니다 - 변경하려는 설정만 지정하면 됩니다.

---

## 사용 가능한 런타임 옵션

모든 설정을 런타임에 변경할 수 있는 것은 아닙니다. 구성할 수 있는 항목은 다음과 같습니다:

### 완전히 지원됨

| 옵션 | 타입 | 설명 |
|------|------|------|
| `language` | `'en' \| 'ko'` | UI 언어 |
| `enableSessionRecording` | `boolean` | 세션 녹화 토글 |
| `enableScreenHistoryRecording` | `boolean` | AI 컨텍스트용 화면 히스토리 |
| `planning` | `object` | 플래닝 설정 |

### 플래닝 설정

```javascript
window.Moss.configure({
    planning: {
        enabled: true,
        maxSteps: 20
    }
})
```

---

## 일반적인 사용 사례

### 개인정보 보호 모드 토글

사용자가 세션 녹화를 비활성화할 수 있도록 합니다:

```javascript
function togglePrivacyMode(enabled) {
    window.Moss.configure({
        enableSessionRecording: !enabled,
        enableScreenHistoryRecording: !enabled
    })
}

// 사용
document.getElementById('privacy-toggle').addEventListener('change', (e) => {
    togglePrivacyMode(e.target.checked)
})
```

### 언어 전환

사용자 언어 기본 설정에 응답합니다:

```javascript
function setLanguage(lang) {
    window.Moss.configure({ language: lang })
}

// 언어 선택기와 함께 사용
document.querySelectorAll('[data-lang]').forEach(btn => {
    btn.addEventListener('click', () => {
        setLanguage(btn.dataset.lang)
    })
})
```

### 기능 플래그 / A/B 테스트

실험 그룹에 따라 기능을 활성화합니다:

```javascript
// 사용자의 실험 그룹을 결정한 후
if (userExperimentGroup === 'planning-enabled') {
    window.Moss.configure({
        planning: {
            enabled: true,
            maxSteps: 15
        }
    })
}
```

### 구독 등급 조정

사용자 구독에 따라 제한을 조정합니다:

```javascript
function applySubscriptionSettings(tier) {
    const settings = {
        free: { planning: { enabled: false } },
        pro: { planning: { enabled: true, maxSteps: 10 } },
        enterprise: { planning: { enabled: true, maxSteps: 20 } }
    }

    window.Moss.configure(settings[tier] || settings.free)
}

// 사용자 로그인 또는 구독 변경 시 적용
applySubscriptionSettings(user.subscriptionTier)
```

---

## 런타임에 사용할 수 없는 설정

일부 설정은 초기화 후 변경할 수 없습니다:

| 설정 | 이유 |
|------|------|
| `applicationId` | 재초기화 필요 |
| `userId` | 재초기화 필요 |
| `useVision` | 애플리케이션 수준 설정 |
| `screenshotMode` | 기술적 제약 |
| `logLevel` | 초기화 시 설정 |
| `debugMode` | 초기화 시 설정 |
| `observeTargetSelector` | DOM 재바인딩 필요 |
| `stability` | 기술적 제약 |
| `sessionConfig` | 세션 수준 설정 |

<Tip>
    이러한 설정을 변경하려면 새 매개변수로 SDK를 재초기화해야 합니다.
</Tip>

---

## 모범 사례

### 1. SDK 가용성 확인

configure를 호출하기 전에 항상 SDK가 로드되었는지 확인하세요:

```javascript
if (window.Moss && typeof window.Moss.configure === 'function') {
    window.Moss.configure({ language: 'ko' })
}
```

### 2. 관련 변경 사항 일괄 처리

관련 설정을 단일 호출로 결합하세요:

```javascript
// 좋음 - 단일 호출
window.Moss.configure({
    enableSessionRecording: false,
    enableScreenHistoryRecording: false
})

// 피하기 - 여러 호출
window.Moss.configure({ enableSessionRecording: false })
window.Moss.configure({ enableScreenHistoryRecording: false })
```

### 3. 설정 변경 문서화

디버깅을 위해 설정 변경 사항을 추적하세요:

```javascript
function configureMoss(options, reason) {
    console.log(`[Moss] 설정 중: ${reason}`, options)
    window.Moss.configure(options)
}

configureMoss({ language: 'ko' }, '사용자가 언어 기본 설정 변경')
```

---

## 다음 단계

<CardGroup cols={2}>
    <Card
        title="예시"
        icon="lightbulb"
        href="/ko/configurations/examples"
    >
        전체 설정 예시 보기
    </Card>
    <Card
        title="SDK 옵션"
        icon="code"
        href="/ko/configurations/sdk-options"
    >
        모든 SDK 초기화 옵션 검토
    </Card>
</CardGroup>
